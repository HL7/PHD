<?xml version="1.0" encoding="UTF-8"?>
<!-- How to use Lloyd's Framework IG
The Frameworks directory is not touched (except for a single hardcoded error that may be fixed in the future).
You may want to rename the *.bat files appropriate for your IG, this example has 'Phd' all over the place.
The source-generated directory is built by the _PhdUpdatePublisher.bat file. It must be generated before being used in the continuous integration build
One can safely delete the source-generated directory and run _PhdUpdatePublisher.bat to rebuild it.
You will need to modify the ig.json file to point to your ImplementationGuide.xml file which is in the src directory
In this example the name of the ImplementationGuide is 'PhdImplementationGuide.xml'.
So in the end all your work is in the src directory.
The resources are placed in the src/resources directory
The Value Sets can be placed in src/vocabulary directory (have not tried this) but putting them in the resources directory is also okay 
The pages are placed in the src/pagecontent directory
The menu items that occur across the header in the published guide is in the src/includes directory in the menu.xml file.
These directory names are fixed. (There might be a special directory name for Code Systems but I do not know.)
You need a 'jurisdiction' element or it will not build. Not sure how it is used or why it is required. It is not required by FHIR.
Resources:
The names of the files must follow a certain structure. There are certain options. Here is one that works
    1. For structure definitions *.structuredefinition.xml where '*' is your choice (no spaces). Make sure the 'id' and 'name' values are the same as '*'
	   For example I have PhdNumericObservation.structuredefinition.xml with <id value="PhdNumericObservation" /> and <name value="PhdNumericObservation" /> 
	2. For value sets *.valueset.xml where '*' is your choice (no spaces). Make sure the 'id' and 'name' values are the same as '*'
	3. For code systems *.codesystem.xml where '*' is your choice (no spaces). Make sure the 'id' and 'name' values are the same as '*'
	4. These resources will not be listed by the Artifacts page unless one specifies a 'grouping' under the 'definition' element and then references
	   it in each resource with groupingId.
Pages:
For md (markdown) pages (the only pages I know how to do)
    1. No spaces in the name
	2. No YAML headers to cause the publisher to convert them to html
	3. No Jekyll liquid syntax to link to other pages.
	4. All references to your pages are 'pageName.html' even though they are written in md.
	5. Don't put a title in your md file as it is taken from the 'title' tag in the <page> entry of this file, for example
	    <title value="Technical Implementation Guidance"/>. If you do you will have two titles.
In your structure definition the first page SHALL be toc.html. This page is auto generated, you do not need to create it
    Under this page every page you want included in the table of contents will appear as a sub page.
The next primary page is 'artifacts.html'. This is auto-generated. You need no sub-pages. This topic will cause a list of all your resources to appear
when you click on the 'Artifacts Index' header in the published guide. Be sure to include that name in the 'menu.xml' file in the includes directory
along with the 'Table of Contents' entry. 
The other entries are up to you BUT there is a catch. When putting in your pages in the ImplementationGuide the <nameUrl value="pageName.html"/>
even though the file names are 'pageName.md'. But the <generation value="markdown" />.
Make sure the version in the src/properties.txt file is the same as the versions in you value sets and code systems

In this example there are only xml structure definitions, value sets, code systems, and markdown pages that are all text. -->

<ImplementationGuide xmlns="http://hl7.org/fhir" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://hl7.org/fhir ../src-generated/schemas/fhir-single.xsd">
  <id value="PhdImplementationGuide"/>
  <url value="http://hl7.org/fhir/uv/phd/ImplementationGuide/PhdImplementationGuide"/>
  <name value="Continua Personal Health Device Implementation Guide"/>
  <title value="Continua Personal Health Device Implementation Guide"/>
  <status value="draft"/>
  <experimental value="false"/>
  <publisher value="Health Level Seven International (Health Care Devices Work Group)"/>
  <description value="ImplementationGuide for Personal Health Devices (PHD), used in remote patient monitoring (e.g., weight scales, blood pressure cuffs, glucose monitors, pulse-oximeters, etc.)."/>

  <!-- Don't know why we should have this except that the build will fail without it -->
  <jurisdiction>
    <coding>
      <system value="http://unstats.un.org/unsd/methods/m49/m49.htm"/>
      <code value="001"/>
    </coding>
  </jurisdiction>
  <packageId value="hl7.fhir.uv.phd" />

  <fhirVersion value="3.6.0"/>
  <definition>
    <grouping id="hl7.fhir.uv.phd">
      <name value="PHD Profiles"/>
      <description value="Profiles for mapping 11073 20601 Personal Health Devices to FHIR resources"/>
    </grouping>
	<resource>
      <reference>
	    <!-- I believe the value after the StructureDefinition is the <id> element in a Structure definition -->
        <reference value="StructureDefinition/PhdDevice"/>
      </reference>
      <name value="PhdDevice"/>
      <exampleBoolean value="false"/>
	  <groupingId value="hl7.fhir.uv.phd" />
    </resource>
    <resource>
      <reference>
        <reference value="StructureDefinition/PhdBaseObservation"/>
      </reference>
      <name value="PhdBaseObservation"/>
      <exampleBoolean value="false"/>
	  <groupingId value="hl7.fhir.uv.phd" />
    </resource>
	<resource>
      <reference>
        <reference value="StructureDefinition/PhdNumericObservation"/>
      </reference>
      <name value="PhdNumericObservation"/>
      <exampleBoolean value="false"/>
	  <groupingId value="hl7.fhir.uv.phd" />
    </resource>
	<resource>
      <reference>
        <reference value="StructureDefinition/PhdCompoundNumericObservation"/>
      </reference>
      <name value="PhdCompoundNumericObservation"/>
      <exampleBoolean value="false"/>
	  <groupingId value="hl7.fhir.uv.phd" />
    </resource>
	<resource>
      <reference>
        <reference value="StructureDefinition/PhdCodedEnumerationObservation"/>
      </reference>
      <name value="PhdCodedEnumerationObservation"/>
      <exampleBoolean value="false"/>
	  <groupingId value="hl7.fhir.uv.phd" />
    </resource>
	<resource>
      <reference>
        <reference value="StructureDefinition/PhdBitsEnumerationObservation"/>
      </reference>
      <name value="PhdBitsEnumerationObservation"/>
      <exampleBoolean value="false"/>
	  <groupingId value="hl7.fhir.uv.phd" />
    </resource>
	<resource>
      <reference>
        <reference value="StructureDefinition/PhdRtsaObservation"/>
      </reference>
      <name value="PhdRtsaObservation"/>
      <exampleBoolean value="false"/>
	  <groupingId value="hl7.fhir.uv.phd" />
    </resource>
	<resource>
      <reference>
        <reference value="StructureDefinition/PhdStringEnumerationObservation"/>
      </reference>
      <name value="PhdStringEnumerationObservation"/>
      <exampleBoolean value="false"/>
	  <groupingId value="hl7.fhir.uv.phd" />
    </resource>
	<resource>
      <reference>
        <reference value="StructureDefinition/PhdCoincidentTimeStampObservation"/>
      </reference>
      <name value="PhdCoincidentTimeStampObservation"/>
      <exampleBoolean value="false"/>
    </resource>
	<resource>
      <reference>
        <reference value="StructureDefinition/PhgDevice"/>
      </reference>
      <name value="PhgDevice"/>
      <exampleBoolean value="false"/>
	  <groupingId value="hl7.fhir.uv.phd" />
    </resource>
    <resource>
      <reference>
        <reference value="StructureDefinition/PhdPatient"/>
      </reference>
      <name value="PhdPatient"/>
      <exampleBoolean value="false"/>
	  <groupingId value="hl7.fhir.uv.phd" />
    </resource>
	<resource>
      <reference>
        <reference value="CodeSystem/ASN1ToHL7"/>
      </reference>
      <name value="ASN1ToHL7"/>
      <exampleBoolean value="false"/>
	  <groupingId value="hl7.fhir.uv.phd" />
    </resource>
	<resource>
      <reference>
        <reference value="CodeSystem/ContinuaHFS"/>
      </reference>
      <name value="ContinuaHFS"/>
      <exampleBoolean value="false"/>
	  <groupingId value="hl7.fhir.uv.phd" />
    </resource>
	<resource>
      <reference>
        <reference value="ValueSet/11073MDCobject"/>
      </reference>
      <name value="11073MDCobject"/>
      <exampleBoolean value="false"/>
	  <groupingId value="hl7.fhir.uv.phd" />
    </resource>
    <resource>
      <reference>
        <reference value="ValueSet/11073MDCnotObject"/>
      </reference>
      <name value="11073MDCnotObject"/>
      <exampleBoolean value="false"/>
	  <groupingId value="hl7.fhir.uv.phd" />
    </resource>
    <resource>
      <reference>
        <reference value="ValueSet/ASN1attribute"/>
      </reference>
      <name value="ASN1attribute"/>
      <exampleBoolean value="false"/>
	  <groupingId value="hl7.fhir.uv.phd" />
    </resource>
    <resource>
      <reference>
        <reference value="ValueSet/ASN1measurement"/>
      </reference>
      <name value="ASN1measurement"/>
      <exampleBoolean value="false"/>
	  <groupingId value="hl7.fhir.uv.phd" />
    </resource>
	<resource>
      <reference>
        <reference value="StructureDefinition/PhdServerCapabilityStatement"/>
      </reference>
      <name value="PhdServerCapabilityStatement"/>
      <exampleBoolean value="false"/>
	  <groupingId value="hl7.fhir.uv.phd" />
    </resource>
	
	<resource>
      <reference>
        <reference value="Bundle/bundle-continuousnonin"/>
      </reference> 
	  <name value="Example Bundled upload"/>
	  <description value="This example is an upload from a Bluetooth Low Energy Pulse oximeter device streaming data. In this case the gateway has previously uploaded measurements and saved the logical ids of the Patient and Device resources so they are not re-uploaded." />
      <exampleBoolean value="true"/>
	  <groupingId value="hl7.fhir.uv.phd" />
    </resource>

	<resource>
      <reference>
        <reference value="Observation/nan-1.0.0.42"/>
      </reference> 
	  <name value="Example of a NaN case"/>
	  <description value="Example contains a NaN (not a number) measurement." />
      <exampleBoolean value="true"/>
	  <groupingId value="hl7.fhir.uv.phd" />
    </resource>

	<!-- The 'toc' or table of contents is required and must appear first in the pages list
	and it must have the name toc.html. The toc.html is generated and its contents are determined
	by all the pages contained in the hierarchy underneath it. The first page underneath it
	is the home page index.html which shall be named 'index'. In this guide it is an md file
	that I have written. The second 'primary' page SHALL be artifacts.html and it has no sub-pages. -->
    <page>
      <nameUrl value="toc.html"/>
      <title value="Table of Contents"/>
      <generation value="html"/>
	  <!-- Now for the structure of the table of contents -->
      <page>
        <nameUrl value="index.html"/>
        <title value="Continua PHD Implementation guide Home Page"/>
        <generation value="markdown"/>
		<page>
          <nameUrl value="overview.html"/>
          <title value="Overview"/>
          <generation value="markdown"/>
		  <page>
			<nameUrl value="Purpose.html"/>
			<title value="Purpose"/>
			<generation value="markdown"/>
		  </page>
		  <page>
			  <nameUrl value="Audience.html"/>
			  <title value="Audience"/>
			  <generation value="markdown"/>
		  </page>
		  <page>
		    <nameUrl value="Scope.html"/>
		    <title value="Scope"/>
		    <generation value="markdown"/>
		  </page>
		  <page>
		    <nameUrl value="UseCases.html"/>
		    <title value="Use Cases"/>
		    <generation value="markdown"/>
		  </page>
		</page>
		<page>
          <nameUrl value="TechnicalImplementationGuidance.html"/>
          <title value="Technical Implementation Guidance"/>
          <generation value="markdown"/>
		  <page>
		    <nameUrl value="RemotePatientMonitoringConsiderations.html"/>
		    <title value="Remote Patient Monitoring Considerations"/>
		    <generation value="markdown"/>
		  </page>
		  <page>
		    <nameUrl value="GenericModel.html"/>
		    <title value="Generic and Extensible Model"/>
		    <generation value="markdown"/>
		  </page>
		  <page>
		    <nameUrl value="DIMtoFHIRMapping.html"/>
		    <title value="DIM to FHIR Mapping: Basics"/>
		    <generation value="markdown"/>
		  </page>
		  <page>
		    <nameUrl value="GeneralNotestoConsumers.html"/>
		    <title value="General Notes to Consumers of FHIR Data"/>
		    <generation value="markdown"/>
		  </page>
		  <page>
		    <nameUrl value="DIMtoFHIRMappingDetails.html"/>
		    <title value="DIM to FHIR Mapping: Details"/>
		    <generation value="markdown"/>
			<page>
		      <nameUrl value="DefinitionMetricMsmt.html"/>
		      <title value="Definition of a Metric Measurement"/>
		      <generation value="markdown"/>
		    </page>
			<page>
		      <nameUrl value="MetricAttributesofNoInterest.html"/>
		      <title value="Metric Protocol-Only Attributes"/>
		      <generation value="markdown"/>
		    </page>
			<page>
		      <nameUrl value="MderFLOATsandSFLOATs.html"/>
		      <title value="Mder FLOATs and SFLOATs"/>
		      <generation value="markdown"/>
		    </page>
			<page>
		      <nameUrl value="Nomenclaturecodes.html"/>
		      <title value="Nomenclature codes"/>
		      <generation value="markdown"/>
		    </page>
			<page>
		      <nameUrl value="CodeableConcepts.html"/>
		      <title value="Codeable Concepts"/>
		      <generation value="markdown"/>
		    </page>
			<page>
		      <nameUrl value="ObtainObservationCode.html"/>
		      <title value="Obtaining the Observation Code"/>
		      <generation value="markdown"/>
		    </page>
			<page>
		      <nameUrl value="ObtainUnitCode.html"/>
		      <title value="Obtaining the Unit Code"/>
		      <generation value="markdown"/>
		    </page>
			<page>
		      <nameUrl value="ASN1BITsCodeSystem.html"/>
		      <title value="ASN1 BITs Code System"/>
		      <generation value="markdown"/>
			  <page>
		        <nameUrl value="ASN1toHL7Codes.html"/>
		        <title value="ASN1 BITs Codes"/>
		        <generation value="markdown"/>
		      </page>
		    </page>
			<page>
		      <nameUrl value="ObservationIdentifier.html"/>
		      <title value="The Observation Identifier"/>
		      <generation value="markdown"/>
		    </page>
			<page>
		      <nameUrl value="GeneratingtheReportedTimeStampIdentifier.html"/>
		      <title value="Generating the PHD Reported Time Stamp Identifier"/>
		      <generation value="markdown"/>
		    </page>
		  </page>
		  <page>
		    <nameUrl value="CoincidentTimeStamp.html"/>
		    <title value="Coincident Time Stamp"/>
		    <generation value="markdown"/>
		  </page>
		  <page>
		    <nameUrl value="Non1107320601Devices.html"/>
		    <title value="Non 11073 20601 Devices"/>
		    <generation value="markdown"/>
		  </page>
		</page>
		<page>
          <nameUrl value="profiles.html"/>
          <title value="Profiles"/>
          <generation value="markdown"/>
		  <page>
		    <nameUrl value="ProfilesOverview.html"/>
		    <title value="Profiles Overview"/>
		    <generation value="markdown"/>
		  </page>
		  <page>
		    <nameUrl value="BaseObservationProfile.html"/>
		    <title value="Base Observation Profile"/>
		    <generation value="markdown"/>
		  </page>
		  <page>
		    <nameUrl value="NumericObservationProfile.html"/>
		    <title value="PHD Numeric Observation Profile"/>
		    <generation value="markdown"/>
			<page>
		      <nameUrl value="NumericNaN.html"/>
		      <title value="NaN Example"/>
		      <generation value="markdown"/>
		    </page>
		  </page>
		  <page>
		    <nameUrl value="CompoundNumericObservationProfile.html"/>
		    <title value="PHD Compound Numeric Observation Profile"/>
		    <generation value="markdown"/>
		  </page>
		  <page>
		    <nameUrl value="CodedEnumerationObservationProfile.html"/>
		    <title value="PHD Coded Enumeration Observation Profile"/>
		    <generation value="markdown"/>
		  </page>
		  <page>
		    <nameUrl value="BITsEnumerationObservationProfile.html"/>
		    <title value="PHD BITs Coded Enumeration Observation Profile"/>
		    <generation value="markdown"/>
		  </page>
		  <page>
		    <nameUrl value="RtsaObservationProfile.html"/>
		    <title value="PHD Real Time Sample Array Observation Profile"/>
		    <generation value="markdown"/>
		  </page>
		  <page>
		    <nameUrl value="StringEnumerationObservationProfile.html"/>
		    <title value="PHD String Enumeration Observation Profile"/>
		    <generation value="markdown"/>
		  </page>
		  <page>
		    <nameUrl value="CoincidentTimeStampObservationProfile.html"/>
		    <title value="PHD Coincident Time Stamp Observation Profile"/>
		    <generation value="markdown"/>
		  </page>
		  <page>
		    <nameUrl value="PhdDeviceProfile.html"/>
		    <title value="PHD Device Profile"/>
		    <generation value="markdown"/>
		  </page>
		  <page>
		    <nameUrl value="PhgDeviceProfile.html"/>
		    <title value="PHG (Personal Health Gateway) Device Profile"/>
		    <generation value="markdown"/>
		  </page>
		  <page>
		    <nameUrl value="PhdPatientProfile.html"/>
		    <title value="PHD Patient Profile"/>
		    <generation value="markdown"/>
		  </page>
        </page>
		<page>
		  <nameUrl value="terminology.html"/>
		  <title value="Terminology"/>
		  <generation value="markdown"/>
		</page>
		<page>
		  <nameUrl value="resources.html"/>
		  <title value="Resources"/>
		  <generation value="markdown"/>
		</page>
		<page>
		  <nameUrl value="downloads.html"/>
		  <title value="Downloads"/>
		  <generation value="markdown"/>
		</page>
	  </page>
	  <!-- Required element. Second 'primary' top-level page. It is generated -->
      <page>
        <nameUrl value="artifacts.html"/>
        <title value="Artifact List"/>
        <generation value="html"/>
      </page>
    </page>
  </definition>
</ImplementationGuide>
